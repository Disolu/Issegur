/*!CK:3516824917!*//*1457560554,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["fang\/"]); }

__d('PopoverAsyncMenu.react',['cx','CSS','InlineBlock.react','MenuTheme','Popover','PopoverAsyncMenu','PopoverLoadingMenu','PopoverMenu.react','React','ReactDOM','URI','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactPopoverAsyncMenu',statics:{getButtonSize:c('PopoverMenu.react').getButtonSize},propTypes:{alignh:i.oneOf(['left','center','right']),alignv:i.oneOf(['baseline','bottom','middle','top']),position:i.oneOf(['above','below','left','right']),layerBehaviors:i.array,loadingMenu:i.instanceOf(c('PopoverLoadingMenu')),disabled:i.bool,endpoint:i.oneOfType([i.string.isRequired,i.instanceOf(c('URI')).isRequired]),endpointData:i.object,onShow:i.func,onHide:i.func},getDefaultProps:function(){return {alignv:'middle',loadingMenu:new (c('PopoverLoadingMenu'))({theme:c('MenuTheme')})};},componentDidMount:function(){var k=c('ReactDOM').findDOMNode(this.refs.root),l=k.firstChild;c('CSS').addClass(l,"_p");this._popover=new (c('Popover'))(k,l,this.props.layerBehaviors,{alignh:this.props.alignh,position:this.props.position,disabled:this.props.disabled});if(this.props.onShow)this._popover.subscribe('show',this.props.onShow);if(this.props.onHide)this._popover.subscribe('hide',this.props.onHide);this._popoverMenu=new (c('PopoverAsyncMenu'))(this._popover,l,this.props.loadingMenu,this.props.endpoint,this.props.behaviors,this.props.endpointData);},componentDidUpdate:function(k){if(this.props.alignh!==k.alignh)this._popoverMenu.getPopover().getLayer().setAlignment(this.props.alignh);if(this.props.disabled!==k.disabled)if(this.props.disabled){this._popoverMenu.disable();}else this._popoverMenu.enable();},render:function(){var k=c('React').Children.map(this.props.children,function(l,m){if(m===0){return c('React').cloneElement(l,{className:c('joinClasses')(l.props.className,"_p")});}else return l;});return (c('React').createElement(c('InlineBlock.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"uiPopover"),ref:'root',disabled:null}),k));},componentWillUnmount:function(){this.hidePopover();},getPopoverMenu:function(){return this._popoverMenu;},getMenu:function(){return this._popoverMenu.getMenu();},showPopover:function(k){this._popover.showLayer();if(k){var l=this._popoverMenu.getMenu();l.blur();l.focusAnItem(k);}},hidePopover:function(){var k=this._popover;if(k&&k.isShown())k.hideLayer();},getFocusedItem:function(){var k=this._popoverMenu.getMenu();return k.getFocusedItem();}});f.exports=j;},null);